<div class="container mt-5">

  <hr>
  <div>
    <div class="row">
      @if (!loading) {
        @if (reloading) {
          <div class="progress" style="height: 2px;">
            <div class="progress-bar bg-success progress-animation" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
        }
        @for (recipe of recipes; track recipe.id) {
          <div class="col-md-4 mb-4">
            <app-recipe-item
              [recipe]="recipe"
              (deleted)="deletedRecipe()">
            </app-recipe-item>
          </div>
        }
      } @else {
        <div class="text-center">
          <div class="spinner-border" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
        </div>
      }
    </div>

    <div class="container mt-5">
      <h2>Add New Recipe</h2>
      <div>
        <div class="mb-3">
          <label for="recipeName" class="form-label">Name:</label>
          <input type="text" class="form-control" id="recipeName" [(ngModel)]="newRecipe.name" name="recipeName" required>
        </div>
        <div class="mb-3">
          <label for="recipeDescription" class="form-label">Description:</label>
          <textarea class="form-control" id="recipeDescription" [(ngModel)]="newRecipe.description" name="recipeDescription" required></textarea>
        </div>
        <button type="button" class="btn btn-primary" [disabled]="submitLoading" (click)="addRecipe()">
          @if (!submitLoading) {
            <span>Add Recipe</span>
          } @else {
            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
          }
        </button>
      </div>
    </div>

  </div>
</div>
